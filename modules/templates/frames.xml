<Ui xmlns="http://www.blizzard.com/wow/ui/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.blizzard.com/wow/ui/">
	<Frame name="DMA_TextAreaBase" virtual="true" enableMouse="true">
		<Frames>
			<ScrollFrame parentKey="scroll" name="$parentScroll" inherits="UIPanelScrollFrameTemplate">
				<Anchors>
					<Anchor point="TOP" x="0" y="-8"/>
					<Anchor point="BOTTOM" x="0" y="2"/>
					<Anchor point="LEFT" x="15" y="0"/>
					<Anchor point="RIGHT" x="-25" y="0"/>
				</Anchors>
				<ScrollChild>
					<EditBox name="$parentText" parentKey="text" multiLine="true" enableMouse="false" autoFocus="false">
						<Anchors>
							<Anchor point="TOPLEFT" x="0" y="-4"/>
							<Anchor point="BOTTOMRIGHT" x="0" y="12"/>
						</Anchors>
						<Scripts>
							<OnShow>
								self:SetWidth(self:GetParent():GetParent():GetWidth() - 40);
							</OnShow>
							<OnTextChanged>
								if self:IsVisible() and self:GetCursorPosition() == string.len(self:GetText()) then
									self:GetParent():SetVerticalScroll(self:GetParent():GetVerticalScrollRange());
								end
							</OnTextChanged>
							<OnEscapePressed>
								self:ClearFocus();
							</OnEscapePressed>
							<OnEditFocusGained>
								self:HighlightText();
								self:GetParent():GetParent().dummy:Hide();
							</OnEditFocusGained>
							<OnEditFocusLost>
								self:HighlightText(0,0);
								self:GetParent():GetParent().dummy:Show();
							</OnEditFocusLost>
						</Scripts>
						<FontString inherits="ChatFontNormal"/>
					</EditBox>
				</ScrollChild>
			</ScrollFrame>
			<Button name="$parentFocusDummy" parentKey="dummy">
				<Anchors>
					<Anchor point="TOP" x="0" y="5"/>
					<Anchor point="BOTTOM" x="0" y="-5"/>
					<Anchor point="LEFT" x="0" y="0"/>
					<Anchor point="RIGHT" x="-10" y="0"/>
				</Anchors>
				<Scripts>
					<OnClick>
						self:GetParent().scroll.text:SetFocus();
					</OnClick>
				</Scripts>
			</Button>
		</Frames>
	</Frame>

	<Frame name="DMA_TextArea" inherits="DMA_TextAreaBase" virtual="true" enableMouse="true">
		<Layers>
			<Layer level="BACKGROUND">
				<Texture file="Interface\DialogFrame\UI-DialogBox-Background" horizTile="true" vertTile="true">
					<Anchors>
						<Anchor point="TOPLEFT" relativePoint="TOPLEFT" x="3" y="-4"/>
						<Anchor point="BOTTOMRIGHT" relativePoint="BOTTOMRIGHT" x="-5" y="2"/>
					</Anchors>
				</Texture>
			</Layer>
			<Layer level="BORDER" textureSubLevel="1">
				<Texture name="$parentInsetBotLeftCorner" inherits="UI-Frame-InnerBotLeftCorner" parentKey="InsetBorderBottomLeft">
					<Anchors>
						<Anchor point="BOTTOMLEFT" x="2" y="0"/>
					</Anchors>
				</Texture>
				<Texture name="$parentInsetBotRightCorner" inherits="UI-Frame-InnerBotRight" parentKey="InsetBorderBottomRight">
					<Anchors>
						<Anchor point="BOTTOMRIGHT" x="-3" y="0"/>
					</Anchors>
				</Texture>
				<Texture name="$parentInsetTopLeftCorner" inherits="UI-Frame-InnerTopLeft" parentKey="InsetBorderTopLeft">
					<Anchors>
						<Anchor point="TOPLEFT" x="2" y="-3"/>
					</Anchors>
				</Texture>
				<Texture name="$parentInsetTopRightCorner" inherits="UI-Frame-InnerTopRight" parentKey="InsetBorderTopmRight">
					<Anchors>
						<Anchor point="TOPRIGHT" x="-3" y="-3"/>
					</Anchors>
				</Texture>
			</Layer>
			<Layer level="BORDER">
				<Texture name="$parentInsetBottomBorder" inherits="_UI-Frame-InnerBotTile" parentKey="InsetBorderBottom">
					<Anchors>
						<Anchor point="BOTTOMLEFT" relativeKey="$parent.InsetBorderBottomLeft" relativePoint="BOTTOMRIGHT"/>
						<Anchor point="BOTTOMRIGHT" relativeKey="$parent.InsetBorderBottomRight" relativePoint="BOTTOMLEFT"/>
					</Anchors>
				</Texture>

				<Texture name="$parentInsetLeftBorder" inherits="!UI-Frame-InnerLeftTile" parentKey="InsetBorderLeft">
					<Anchors>
						<Anchor point="TOPLEFT" x="2" y="-3"/>
						<Anchor point="BOTTOMLEFT" relativeKey="$parent.InsetBorderBottomLeft" relativePoint="TOPLEFT"/>
					</Anchors>
				</Texture>
				<Texture name="$parentInsetRightBorder" inherits="!UI-Frame-InnerRightTile" parentKey="InsetBorderRight">
					<Anchors>
						<Anchor point="TOPRIGHT" x="-3" y="-3"/>
						<Anchor point="BOTTOMRIGHT" relativeKey="$parent.InsetBorderBottomRight" relativePoint="TOPRIGHT"/>
					</Anchors>
				</Texture>
				<Texture name="$parentInsetTopBorder" inherits="_UI-Frame-InnerTopTile" parentKey="InsetBorderBottom">
					<Anchors>
						<Anchor point="TOPLEFT" relativeKey="$parent.InsetBorderLeft" relativePoint="TOPLEFT"/>
						<Anchor point="TOPRIGHT" relativeKey="$parent.InsetBorderRight" relativePoint="TOPRIGHT"/>
					</Anchors>
				</Texture>
			</Layer>
		</Layers>
	</Frame>
</Ui>